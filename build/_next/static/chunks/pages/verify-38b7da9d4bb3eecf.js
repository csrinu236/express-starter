(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[143],{8623:function(e,i,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/verify",function(){return r(9471)}])},9471:function(e,i,r){"use strict";r.r(i);var n=r(5893),s=r(1163),a=r(7294),o=r(8390),l=r.n(o),t=r(1664),c=r.n(t);i.default=()=>{let{email_token:e,email:i}=(0,s.useRouter)().query,[r,o]=(0,a.useState)(""),[t,f]=(0,a.useState)(!0),d=async()=>{try{let r=await fetch("".concat("http://localhost:8888","/api/v1/auth/verify"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,email_token:e})});if(r.ok){let e=await r.json();"verified"===e.msg&&o("verified")}else{let e=await r.json();throw Error(e.msg)}}catch(e){console.log({error:e}),o(e.message)}finally{f(!1)}};return((0,a.useEffect)(()=>{i&&e&&d()},[i,e]),t)?(0,n.jsx)("div",{className:l().loading,children:"Verifying your email..."}):(0,n.jsxs)("div",{className:l().container,children:["verified"===r&&(0,n.jsxs)("div",{className:l().success,children:["Your email has been verified. Please ",(0,n.jsx)(c(),{href:"/login",children:"login"}),"."]}),"already_verified"===r&&(0,n.jsxs)("div",{className:l().info,children:["Your email has already been verified. You can ",(0,n.jsx)(c(),{href:"/login",children:"login"}),"."]}),"invalid_request"===r&&(0,n.jsxs)("div",{className:l().error,children:["Invalid request. Please try again Later. ",(0,n.jsx)("br",{})," ",(0,n.jsx)(c(),{href:"/login",children:"Login"})]}),"error"===r&&(0,n.jsxs)("div",{className:l().error,children:["Something went wrong. Please try again later. ",(0,n.jsx)("br",{})," ",(0,n.jsx)(c(),{href:"/login",children:"Login"})]})]})}},8390:function(e){e.exports={container:"verify_container__oTV8R",loading:"verify_loading___enUk",success:"verify_success__qTnHv",info:"verify_info__5sQ_Z",error:"verify_error__eX_b6"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8623)}),_N_E=e.O()}]);