(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(2946)}])},5:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(5893),o=t(7294),s=t(9294),a=t.n(s),l=t(2378),r=t(1163);function c(){let[e,n]=(0,o.useState)(!1),[t,s]=(0,o.useState)(!1),[c,g]=(0,o.useState)(""),[u,p]=(0,o.useState)(!1),d=(0,r.useRouter)(),h=async e=>{e.preventDefault();let n=new FormData(e.target);console.log({formData:n});let i=n.get("name"),o=n.get("email"),s=n.get("password"),a=t?"".concat("https://no-cost-emi-api.netlify.app","/api/v1/auth/register"):"".concat("https://no-cost-emi-api.netlify.app","/api/v1/auth/login");try{p(!0);let e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:o,password:s,...t&&{name:i}}),credentials:"include"});if(e.ok){let n=await e.json();console.log({data:n}),p(!1),g(null==n?void 0:n.msg),d.replace({pathname:"/",query:{user,isLoding:!1}})}else{let n=await e.json();throw console.log({data:n}),Error(null==n?void 0:n.msg)}}catch(e){p(!1),g(e.message)}};return(0,i.jsx)("div",{className:a().loginContainer,children:(0,i.jsxs)("div",{className:a().loginForm,children:[(0,i.jsx)("h2",{className:a().loginHeading,children:t?"Register":"Login"}),u&&(0,i.jsx)("div",{className:"modaloutside",children:(0,i.jsx)("div",{className:"loader"})}),(0,i.jsxs)("form",{onSubmit:h,children:[t&&(0,i.jsx)("div",{className:a().inputGroup,children:(0,i.jsx)("input",{type:"text",name:"name",placeholder:"Enter your Name"})}),(0,i.jsx)("div",{className:a().inputGroup,children:(0,i.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email"})}),(0,i.jsxs)("div",{className:a().inputGroup,children:[(0,i.jsx)("input",{type:e?"text":"password",id:"password",name:"password",placeholder:"Enter your password"}),(0,i.jsx)("button",{type:"button",className:a().passwordToggleBtn,onClick:()=>{n(!e)},children:e?"Hide":"Show"})]}),(0,i.jsx)("button",{type:"submit",className:a().loginBtn,children:t?"Register":"Login"}),c&&(0,i.jsx)("div",{className:"modaloutside",onClick:e=>g(""),children:(0,i.jsxs)("div",{class:"content",onClick:e=>e.stopPropagation(),children:[(0,i.jsx)("span",{className:"content-span",children:c}),(0,i.jsx)("span",{onClick:()=>g(""),children:(0,i.jsx)(l.u,{})})]})})]}),(0,i.jsx)("p",{className:a().divider,children:"or"}),(0,i.jsxs)("a",{href:"".concat("https://no-cost-emi-api.netlify.app","/api/v1/auth/google/login"),className:a().googleBtn,children:[(0,i.jsx)("img",{src:"https://cdn-teams-slug.flaticon.com/google.jpg",alt:"Google G Logo"}),"Continue with Google"]}),(0,i.jsxs)("a",{href:"".concat("https://no-cost-emi-api.netlify.app","/api/v1/auth/github/login"),className:a().githubBtn,children:[(0,i.jsx)("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"GitHub Logo"}),"Continue with GitHub"]}),t?(0,i.jsxs)("p",{className:a().signupText,children:["Already have account? ",(0,i.jsx)("span",{onClick:()=>s(!1),children:"Login here"})]}):(0,i.jsxs)("p",{className:a().signupText,children:["Don't have an account? ",(0,i.jsx)("span",{onClick:()=>s(!0),children:"Register here"})]})]})})}},2378:function(e,n,t){"use strict";t.d(n,{u:function(){return o}});var i=t(5893);let o=()=>(0,i.jsx)("svg",{className:"cross-icon",height:"30",viewBox:"0 0 1792 1792",width:"30",xmlns:"http://www.w3.org/2000/svg",fill:"red",children:(0,i.jsx)("path",{d:"M1277 1122q0-26-19-45l-181-181 181-181q19-19 19-45 0-27-19-46l-90-90q-19-19-46-19-26 0-45 19l-181 181-181-181q-19-19-45-19-27 0-46 19l-90 90q-19 19-19 46 0 26 19 45l181 181-181 181q-19 19-19 45 0 27 19 46l90 90q19 19 46 19 26 0 45-19l181-181 181 181q19 19 45 19 27 0 46-19l90-90q19-19 19-46zm387-226q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})})},2946:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var i=t(5893),o=t(5);t(9008);var s=t(1163);function a(){return console.log({NEXT_PUBLIC_JWT_SECRET_KEY:(0,s.useRouter)().query.NEXT_PUBLIC_JWT_SECRET_KEY}),(0,i.jsx)(o.Z,{})}},9294:function(e){e.exports={loginContainer:"Login_loginContainer__NecC2",loginForm:"Login_loginForm__L36xy",loginHeading:"Login_loginHeading__pzDeW",inputGroup:"Login_inputGroup__JmCof",passwordToggleBtn:"Login_passwordToggleBtn__6Wsj6",loginBtn:"Login_loginBtn__7SbRy",divider:"Login_divider__0zZcu",googleBtn:"Login_googleBtn__Ixab0",githubBtn:"Login_githubBtn__eJlNi",signupText:"Login_signupText__nPY63",error:"Login_error__Is9wR"}},9008:function(e,n,t){t(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);