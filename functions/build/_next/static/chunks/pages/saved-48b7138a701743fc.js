(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[539],{5277:function(e,s,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/saved",function(){return n(6918)}])},2378:function(e,s,n){"use strict";n.d(s,{u:function(){return a}});var t=n(5893);let a=()=>(0,t.jsx)("svg",{className:"cross-icon",height:"30",viewBox:"0 0 1792 1792",width:"30",xmlns:"http://www.w3.org/2000/svg",fill:"red",children:(0,t.jsx)("path",{d:"M1277 1122q0-26-19-45l-181-181 181-181q19-19 19-45 0-27-19-46l-90-90q-19-19-46-19-26 0-45 19l-181 181-181-181q-19-19-45-19-27 0-46 19l-90 90q-19 19-19 46 0 26 19 45l181 181-181 181q-19 19-19 45 0 27 19 46l90 90q19 19 46 19 26 0 45-19l181-181 181 181q19 19 45 19 27 0 46-19l90-90q19-19 19-46zm387-226q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})})},6918:function(e,s,n){"use strict";n.r(s);var t=n(5893),a=n(7294),r=n(6440),i=n.n(r),o=n(1664),c=n.n(o),l=n(4683),d=n(2378);s.default=()=>{let[e,s]=(0,a.useState)([]),[n,r]=(0,a.useState)(!1),[o,h]=(0,a.useState)(""),u=async(e,n)=>{e.preventDefault(),r(!0),h("");try{let e=await fetch("".concat("","api/v1/cards/deletecard/").concat(n),{method:"DELETE",credentials:"include"});if(!e.ok){let s=await e.json();throw console.log({error:s}),Error(s.msg)}s(e=>e.filter(e=>e._id!==n)),r(!1),h("Card deleted")}catch(e){r(!1),h(e.message)}};return((0,a.useEffect)(()=>{(async()=>{r(!0);try{let e=await fetch("".concat("","api/v1/cards/getall"),{credentials:"include",headers:{"Content-Type":"application/json"},method:"GET"});if(!e.ok){let s=await e.json();throw console.log({error:s}),Error(s.msg)}let n=await e.json();console.log(n),s(n.cards),r(!1)}catch(e){r(!1),setError(e.message)}})()},[]),n)?(0,t.jsx)("div",{className:"modaloutside",children:(0,t.jsx)("div",{className:"loader"})}):(0,t.jsxs)("div",{className:i().savedContainer,children:[o&&(0,t.jsx)("div",{className:"modaloutside",onClick:e=>h(""),children:(0,t.jsxs)("div",{class:"content",onClick:e=>e.stopPropagation(),children:[(0,t.jsx)("span",{className:"content-span",children:o}),(0,t.jsx)("span",{onClick:()=>h(""),children:(0,t.jsx)(d.u,{})})]})}),(0,t.jsx)("p",{className:i().heading,children:0===e.length?"No cards saved yet":"Saved Cards"}),(0,t.jsx)("div",{className:i().cardGrid,children:e.map((e,s)=>{let{interest:n,months:a,processingFee:r,loanTaken:o,emiType:d}=e,h=new URLSearchParams({loanTaken:o,interest:n,months:a,processingFee:r,emiType:d}).toString();return(0,t.jsxs)(c(),{href:"/?".concat(h),className:i().card,children:[(0,t.jsx)("span",{onClick:s=>u(s,e._id),className:i().deleteBtn,children:(0,t.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",width:"24",height:"24",children:[(0,t.jsx)("polyline",{points:"3 6 5 6 21 6"}),(0,t.jsx)("path",{d:"M19 6l-1 14a2 2 0 0 1-2 2H8a2 2 0 0 1-2-2L5 6"}),(0,t.jsx)("path",{d:"M10 11v6"}),(0,t.jsx)("path",{d:"M14 11v6"}),(0,t.jsx)("path",{d:"M9 6V3h6v3"})]})}),(0,t.jsxs)("p",{className:"mb-0",children:["Loan: ₹",(0,l.zW)(e.loanTaken)]}),(0,t.jsxs)("p",{className:"mb-0",children:["Interest Rate: ",e.interest,"%"]}),(0,t.jsxs)("p",{className:"mb-0",children:["Duration: ",e.months," months"]}),(0,t.jsxs)("p",{className:"mb-0",children:["Processing Fee: ₹",e.processingFee.toLocaleString()]}),(0,t.jsxs)("p",{className:"mb-0",children:["EMI Type: ","noCost"===e.emiType?"No Cost EMI":"Interest EMI"]})]},s)})})]})}},4683:function(e,s,n){"use strict";n.d(s,{QN:function(){return r},U1:function(){return a},zW:function(){return i}});let t=(e,s,n,t)=>{var a=Math.pow(1+n,t);return 0-(e*a*n+s*(a-1))},a=(e,s,n,t,a)=>{if(t||(t=0),a||(a=0),0==e)return-(n+t)/s;var r=Math.pow(1+e,s),i=-(e/(r-1)*(n*r+t));return 1==a&&(i/=1+e),i},r=(e,s,n,r,i,o)=>{if(s<1||s>=n+1)return null;var c=a(e,n,r,i,o),l=t(r,c,e,s-1);return{monthlyTotal:c,monthlyInterest:l,monthlyPrincipal:c-l}},i=e=>new Intl.NumberFormat("en-IN",{maximumFractionDigits:2,minimumFractionDigits:2}).format(e)},6440:function(e){e.exports={savedContainer:"Saved_savedContainer__dzbfV",heading:"Saved_heading__xNKNp",cardGrid:"Saved_cardGrid__e_XR8",card:"Saved_card__14eGG",deleteBtn:"Saved_deleteBtn___b3Zl",loading:"Saved_loading__TbiZe",error:"Saved_error__7b5iC",success:"Saved_success__uQjnt",noCards:"Saved_noCards__EOmRL"}}},function(e){e.O(0,[888,774,179],function(){return e(e.s=5277)}),_N_E=e.O()}]);