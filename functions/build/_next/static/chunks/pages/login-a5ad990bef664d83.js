(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(n,e,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return o(2946)}])},5:function(n,e,o){"use strict";o.d(e,{Z:function(){return c}});var t=o(5893),i=o(7294),s=o(9294),a=o.n(s),l=o(2378),r=o(1163);function c(){let[n,e]=(0,i.useState)(!1),[o,s]=(0,i.useState)(!1),[c,g]=(0,i.useState)(""),[u,d]=(0,i.useState)(!1),p=(0,r.useRouter)(),h=async n=>{n.preventDefault();let e=new FormData(n.target);console.log({formData:e});let t=e.get("name"),i=e.get("email"),s=e.get("password"),a=o?"".concat("","/api/v1/auth/register"):"".concat("","/api/v1/auth/login");try{d(!0);let n=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:s,...o&&{name:t}}),credentials:"include"});if(n.ok){let e=await n.json();console.log({data:e}),d(!1),g(null==e?void 0:e.msg),p.push("/")}else{let e=await n.json();throw console.log({data:e}),Error(null==e?void 0:e.msg)}}catch(n){d(!1),g(n.message)}};return(0,t.jsx)("div",{className:a().loginContainer,children:(0,t.jsxs)("div",{className:a().loginForm,children:[(0,t.jsx)("h2",{className:a().loginHeading,children:o?"Register":"Login"}),u&&(0,t.jsx)("div",{className:"modaloutside",children:(0,t.jsx)("div",{className:"loader"})}),(0,t.jsxs)("form",{onSubmit:h,children:[o&&(0,t.jsx)("div",{className:a().inputGroup,children:(0,t.jsx)("input",{type:"text",name:"name",placeholder:"Enter your Name"})}),(0,t.jsx)("div",{className:a().inputGroup,children:(0,t.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email"})}),(0,t.jsxs)("div",{className:a().inputGroup,children:[(0,t.jsx)("input",{type:n?"text":"password",id:"password",name:"password",placeholder:"Enter your password"}),(0,t.jsx)("button",{type:"button",className:a().passwordToggleBtn,onClick:()=>{e(!n)},children:n?"Hide":"Show"})]}),(0,t.jsx)("button",{type:"submit",className:a().loginBtn,children:o?"Register":"Login"}),c&&(0,t.jsx)("div",{className:"modaloutside",onClick:n=>g(""),children:(0,t.jsxs)("div",{class:"content",onClick:n=>n.stopPropagation(),children:[(0,t.jsx)("span",{className:"content-span",children:c}),(0,t.jsx)("span",{onClick:()=>g(""),children:(0,t.jsx)(l.u,{})})]})})]}),(0,t.jsx)("p",{className:a().divider,children:"or"}),(0,t.jsxs)("a",{href:"".concat("","/api/v1/auth/google/login"),className:a().googleBtn,children:[(0,t.jsx)("img",{src:"https://cdn-teams-slug.flaticon.com/google.jpg",alt:"Google G Logo"}),"Continue with Google"]}),(0,t.jsxs)("a",{href:"".concat("","/api/v1/auth/github/login"),className:a().githubBtn,children:[(0,t.jsx)("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"GitHub Logo"}),"Continue with GitHub"]}),o?(0,t.jsxs)("p",{className:a().signupText,children:["Already have account? ",(0,t.jsx)("span",{onClick:()=>s(!1),children:"Login here"})]}):(0,t.jsxs)("p",{className:a().signupText,children:["Don't have an account? ",(0,t.jsx)("span",{onClick:()=>s(!0),children:"Register here"})]})]})})}},2378:function(n,e,o){"use strict";o.d(e,{u:function(){return i}});var t=o(5893);let i=()=>(0,t.jsx)("svg",{className:"cross-icon",height:"30",viewBox:"0 0 1792 1792",width:"30",xmlns:"http://www.w3.org/2000/svg",fill:"red",children:(0,t.jsx)("path",{d:"M1277 1122q0-26-19-45l-181-181 181-181q19-19 19-45 0-27-19-46l-90-90q-19-19-46-19-26 0-45 19l-181 181-181-181q-19-19-45-19-27 0-46 19l-90 90q-19 19-19 46 0 26 19 45l181 181-181 181q-19 19-19 45 0 27 19 46l90 90q19 19 46 19 26 0 45-19l181-181 181 181q19 19 45 19 27 0 46-19l90-90q19-19 19-46zm387-226q0 209-103 385.5t-279.5 279.5-385.5 103-385.5-103-279.5-279.5-103-385.5 103-385.5 279.5-279.5 385.5-103 385.5 103 279.5 279.5 103 385.5z"})})},2946:function(n,e,o){"use strict";o.r(e),o.d(e,{default:function(){return a}});var t=o(5893),i=o(5);o(9008);var s=o(1163);function a(){return console.log({NEXT_PUBLIC_JWT_SECRET_KEY:(0,s.useRouter)().query.NEXT_PUBLIC_JWT_SECRET_KEY}),(0,t.jsx)(i.Z,{})}},9294:function(n){n.exports={loginContainer:"Login_loginContainer__NecC2",loginForm:"Login_loginForm__L36xy",loginHeading:"Login_loginHeading__pzDeW",inputGroup:"Login_inputGroup__JmCof",passwordToggleBtn:"Login_passwordToggleBtn__6Wsj6",loginBtn:"Login_loginBtn__7SbRy",divider:"Login_divider__0zZcu",googleBtn:"Login_googleBtn__Ixab0",githubBtn:"Login_githubBtn__eJlNi",signupText:"Login_signupText__nPY63",error:"Login_error__Is9wR"}},9008:function(n,e,o){o(7828)}},function(n){n.O(0,[888,774,179],function(){return n(n.s=6429)}),_N_E=n.O()}]);