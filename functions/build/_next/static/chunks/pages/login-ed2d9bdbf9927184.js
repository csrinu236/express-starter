(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[459],{6429:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/login",function(){return t(2946)}])},5:function(e,n,t){"use strict";t.d(n,{Z:function(){return l}});var o=t(5893),i=t(7294),s=t(9294),a=t.n(s);function l(){let[e,n]=(0,i.useState)(!1),[t,s]=(0,i.useState)(!1),[l,r]=(0,i.useState)(""),c=async()=>{try{let e=await fetch("".concat("http://localhost:8888","/health"),{method:"GET",headers:{"Content-Type":"application/json"},credentials:"include"});if(!e.ok){let n=await e.json();throw console.log({data:n}),Error(null==n?void 0:n.msg)}}catch(e){r(e.message)}},g=async e=>{e.preventDefault();let n=new FormData(e.target);console.log({formData:n});let o=n.get("name"),i=n.get("email"),s=n.get("password"),a=t?"".concat("http://localhost:8888","/api/v1/auth/register"):"".concat("http://localhost:8888","/api/v1/auth/login");try{let e=await fetch(a,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:s,...t&&{name:o}}),credentials:"include"});if(!e.ok){let n=await e.json();throw console.log({data:n}),Error(null==n?void 0:n.msg)}}catch(e){r(e.message)}};return(0,o.jsx)("div",{className:a().loginContainer,children:(0,o.jsxs)("div",{className:a().loginForm,children:[(0,o.jsx)("h2",{className:a().loginHeading,children:t?"Register":"Login"}),(0,o.jsxs)("form",{onSubmit:g,children:[t&&(0,o.jsx)("div",{className:a().inputGroup,children:(0,o.jsx)("input",{type:"text",name:"name",placeholder:"Enter your Name"})}),(0,o.jsx)("div",{className:a().inputGroup,children:(0,o.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email"})}),(0,o.jsxs)("div",{className:a().inputGroup,children:[(0,o.jsx)("input",{type:e?"text":"password",id:"password",name:"password",placeholder:"Enter your password"}),(0,o.jsx)("button",{type:"button",className:a().passwordToggleBtn,onClick:()=>{n(!e)},children:e?"Hide":"Show"})]}),(0,o.jsx)("button",{type:"submit",className:a().loginBtn,children:t?"Register":"Login"}),(0,o.jsx)("br",{}),(0,o.jsx)("br",{}),(0,o.jsx)("button",{type:"button",className:a().loginBtn,onClick:c,children:"HealthToken"}),l&&(0,o.jsx)("div",{className:a().error,children:l})]}),(0,o.jsx)("p",{className:a().divider,children:"or"}),(0,o.jsxs)("a",{href:"".concat("http://localhost:8888","/api/v1/auth/google/login"),className:a().googleBtn,children:[(0,o.jsx)("img",{src:"https://cdn-teams-slug.flaticon.com/google.jpg",alt:"Google G Logo"}),"Continue with Google"]}),(0,o.jsxs)("a",{href:"".concat("http://localhost:8888","/api/v1/auth/github/login"),className:a().githubBtn,children:[(0,o.jsx)("img",{src:"https://github.githubassets.com/images/modules/logos_page/GitHub-Mark.png",alt:"GitHub Logo"}),"Continue with GitHub"]}),t?(0,o.jsxs)("p",{className:a().signupText,children:["Already have account? ",(0,o.jsx)("span",{onClick:()=>s(!1),children:"Login here"})]}):(0,o.jsxs)("p",{className:a().signupText,children:["Don't have an account? ",(0,o.jsx)("span",{onClick:()=>s(!0),children:"Register here"})]})]})})}},2946:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return a}});var o=t(5893),i=t(5);t(9008);var s=t(1163);function a(){return console.log({NEXT_PUBLIC_JWT_SECRET_KEY:(0,s.useRouter)().query.NEXT_PUBLIC_JWT_SECRET_KEY}),(0,o.jsx)(i.Z,{})}},9294:function(e){e.exports={loginContainer:"Login_loginContainer__NecC2",loginForm:"Login_loginForm__L36xy",loginHeading:"Login_loginHeading__pzDeW",inputGroup:"Login_inputGroup__JmCof",passwordToggleBtn:"Login_passwordToggleBtn__6Wsj6",loginBtn:"Login_loginBtn__7SbRy",divider:"Login_divider__0zZcu",googleBtn:"Login_googleBtn__Ixab0",githubBtn:"Login_githubBtn__eJlNi",signupText:"Login_signupText__nPY63",error:"Login_error__Is9wR"}},9008:function(e,n,t){t(7828)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=6429)}),_N_E=e.O()}]);